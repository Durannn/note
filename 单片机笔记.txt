锁存器
	锁存器：扩展的功能    --控制数码管  P0口   	D端是输入端		Q端是输出端	
	OE -->Out Enable  输出使能  （上面有杠表示管脚在低电平有效）
	LE -->锁存器的锁存端  LE是高电平时，输出端电平随输入端电平变化而变化。LE是低电平时，无论输入端是什么值，输出端为上一次的值Q0

www.maxim-ic.com
www.analog.com
www.ti.com

crol 循环左移		cror 循环右移
	#include<intrins.h>
	unsigned char _crol_ (unsigned char c,		/*character to rotate left*/ 
                      	 unsigned char b);		/*bit positions to rotate */
Example 
	#include<instrins.h>
	void tst_crol()
	{
		char a;
		char b;
		a = 0xA5;
		b = _crol_(a,3);				/*b now is 0x2D*/ 	a循环左移3位
	}

蜂鸣器  P2.3口

数码管
	段选：控制数码管亮的内容
	位选：控制哪一个数码管亮
	P0口：上拉电阻
	锁存器控制数码管






							中断

中断的概念
	CPU在处理某一事件A时，发生了另一事件B请求CPU迅速去处理（中断发生）；
	CPU暂时中断当前的工作，转去处理事件B（中断相应和中断服务）；
	待CPU将事件B处理完毕后，再回到原来事件A被中断的地方继续处理事件A（中断返回），这一过程被称为中断。
	50C51的中断系统有5个中断源（80C52有6个），2个优先级，可实现二级中断嵌套。

80C51的中断系统结构
	（P3.2）可由IT0（TCON.0）选择其为低电平有效还是下降沿有效。当CPU检测到P3.2引脚上出现有效的中断信号时，中断标志IE0（TCON.1）置1，向CPU申请中断。

中断优先级原则
	CPU同时接收到几个中断时，首先响应优先级别最高的中断请求。
	正在进行的中断过程不能被新的同级或低优先级的中断请求所中断。
	正在进行的低优先级中断服务，能被高优先级中断请求所中断。

	为了实现上述后两条原则，中断系统内部设有两个用户不能寻址的优先级状态触发器。其中一个置1，表示正在响应高优先级中断，它将阻断后来所有的中断请求；另一个置1，表示正在响应低优先级中断，它将阻断后来所有的低优先级中断请求。

中断响应条件
	中断源有中断请求
	此中断源的中断允许位为1
	CPU开中断(即EA=1)

定时/计数器
	实现定时功能，比较方便的办法是利用单片机内部的定时/技术器。也可以采用以下三种方法；
	软件定时：软件定时不占用硬件资源，单占用CPU的利用率。
	采用时基电路定时：例如采用555电路，外接必要的元器件（电容和电阻），即可构成硬件定时电路。但在硬件连接好以后，定时值与定时范围不能有软件进行控制和修改，即不可编程。
	采用可编程芯片定时：这种定时芯片的定时值及定时范围很容易用软件来确定和修改，此种芯片定时功能强，使用灵活。在单片机的定时/计数器不够用时，可以考虑进行扩展。

定时/计数器的结构
	定时/计数器的实质是加1计数器（16位），由高8位和低8位两个寄存器组成。TMOD是定时器/计数器的工作方式寄存器，确定工作方式和功能；TCON是控制寄存器，控制TO、T1的启动和停止及设置溢出标志。 

	计数值N乘以机器周期Tcy就是定时时间t。

工作方式寄存器TMOD：用于设置定时/计数器的工作方式，低四位用于T0，高四位用于T1。
	GATE:门控位。GATE=0时，只要软件的使TCON中的TR0或TR1位1，就可以启动定时/计数器工作；GATE = 1时，要用软件使TR0或TR1为1，同时外部中断引脚也为高电平时，才能启动定时器/计数器工作。即此时的定时器的启动多了一条件。
	C/〒：定时/计数选择位。 C/〒 = 0为定时模式；C/〒 = 1为计数模式。
	M1M0：工作方式设置位。定时/计数器有四种工作方式，由M1M0进行设置。
	         M1M0			工作方式			说明
	         00				方式0				13位定时/计数器
	         01				方式1				16位定时/计数器
	         10				方式2				8位自动重装定时/计数器
	         11				方式3				T0分为两个独立的8位定时/计数器；T1此方式停止计数

控制寄存器TCON
	TCON的低4位用于控制外部中断，TCON的高四位用于控制定时/计数器的启动和中断申请。其格式如下：
	位                  7	6	5	4	3	2	1	0	 
	字节地址：88H		TF1	TR1	TF0	TR0					TCON
	
	TF1（TCON.7）：T1溢出中断请求标志位。T1计数溢出时由硬件自动置为1。CPU响应中断后TF1由硬件自动清0。T1工作时，CPU可随时查询TF1的状态。所以，TF1可用作查询测试的标志。TF1也可以用软件置1或清0，同硬件置1或清0的效果一样。
	TR1（TCON.6）：T1运行控制位。TR1置1时，T1开始工作；TR1置0时，T1停止工作。TR1由软件置1或清0。所以，用软件可控制定时/计数器的启动与停止。
	TF0（TCON.5）：T0溢出中断请求标志位，其功能与TF1类同。
	TR0（TCON.4）：T0运行控制位，其功能与TR1类同。



	                                                 键盘
键盘的分类
	键盘分为编码键盘和非编码键盘。键盘上闭合键的识别由专用的硬件编码器实现，并产生键编码号或键值的称为编码键盘，如计算机键盘。
	靠软件编程来识别的称为非编码键盘。分为独立键盘和行列式（又称为矩阵式）键盘。



	                                              A/D和D/A
D/A
	T型电阻网络D/A转换器
	输出电压的大小与数字量具有对应的关系

D/A转换器的主要性能指标
分辨率
	分辨率是指输入数字量的最低有效位（LSB）发生变化时，所对应的输出模拟量（电压或电流）的变化量。它反映了输出模拟量的最小变化值。分辨率与输入数字量的位数有确定的关系，可以表示为FS / 2ⁿ 。FS表示满量程输入值，n为二进制位数。对于5V的满量程，采用8位的DAC时，分辨率为5V / 256 = 19.5mV;当采用12位的DAC时，分辨率则为5V / 4096 = 1.22mV。显然，位数越多分辨率就越高。
线性度
	线性度（也称非线性误差） 是实际转换特性曲线与理想直线特性之间的最大偏差，常以相对于满量程的百分数表示。如± 1 %是指实际输出值与理论值之差在满刻度的± 1 %以内。
绝对精度和相对精度
	绝对精度（简称精度）是指在整个刻度范围内，任一输入数码所对应的模拟量实际输出值和理论值之间的最大误差。绝对精度是由DAC的增益误差（当输入数码全为1时，实际输出值与理想输出值之差）、零点误差（数码输入为全0时，DAC的非零输出值）、非线性误差和噪声等引起的。绝对精度（即最大误差）应小于一个LSB。
	想对精度与绝对精度表示同一含义，用最大误差相对于满刻度的百分比表示。
建立时间
	建立时间是指输入的数字量发生满刻度变化时，输出模拟信号达到满刻度值的 ± 1/2 LSB所需的时间。是描述D/A转换速率的一个动态指标。
	电流输出型DAC的建立时间短。电压输出型DAC的建立时间主要决定于运算放大器的响应时间。根据建立时间的长短，可以将DAC分成超高速（<1μs）、高速（10 ~ 1μs）、中速（100 ~ 10μs）、低速（≥ 100≥）几档。
	应当注意，精度和分辨率具有一定的联系，但概念不同。DAC的位数多时，分辨率会提高，对应于影响精度的量化误差会减小。但其他误差（如温度漂移、线性不良等）的影响仍会使DAC精度变差。
DAC0832主要特性
	分辨率8位
	电流建立时间1μs
	数据输入可采用双缓冲、单缓冲或直通方式
	输出电流线性度可在满量程下调节
	逻辑电平输入与TTL电平兼容
	单一电源供电（+5V ~ +15V）
	低功耗， 20mW
 

 A/D
 A/D转换器的主要性能指标
 	ADC的分辨率是指输出数字量变化一个相邻数码所需输入模拟电压的变化量。常用二进制的位数表示。例如12位ADC的分辨率就是12位，或者说分辨率为满刻度的 1 / 2¹²。一个10V满刻度的12位ADC能分辨输入电压变化的最小值是10V * 1 / 2¹² = 2.4mV。
 量化误差
 	ADC把模拟量变为数字量，用数字近似表示模拟量，这个过程称为量化。量化误差是ADC的有限位数对模拟量进行量化而引起的误差。实际上，要准确表示模拟量，ADC的位数需很大甚至无穷大。一个分辨率有限的ADC的阶梯状转换特性曲线与具有无限分辨率的ADC转换特性曲线（直线）之间的最大偏差即是量化误差。
 偏移误差
 	偏移误差是指输入信号为零时，输出信号不为零时的值，所以有时又称为零值误差。假定ADC没有非线性误差，则其转换特性曲线各阶梯中点的连线必定是直线，这条直线与横轴相交点所对应的输入电压值就是偏移误差。
 满刻度误差
 	满刻度误差又称为增益误差。ADC的满刻度误差是指满刻度输出数码所对应的实际输入电压与理想输入电压之差。
 线性度
 	线性度有时又称为非线性度，它是指转换器实际的转换特性与理想直线的最大偏差。
 绝对精度
 	在一个转换器中，任何数码所对应的实际模拟量输入与理论模拟输入之差的最大值，称为绝对精度。对于ADC而言，可以在每一个阶梯的水平中点进行测量，它包括了所有的误差。
 转换速率
 	ADC的转换速率是能够重复进行数据转换的速度，即每秒转换的次数。而完成一次A/D转换所需的时间（包括稳定时间），则是转换速率的倒数。
